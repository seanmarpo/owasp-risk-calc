<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Security Risk Calculator - Impact × Likelihood</title>
        <style>
            :root {
                --bg-primary: #ffffff;
                --bg-secondary: #f8f9fa;
                --bg-card: #ffffff;
                --text-primary: #212529;
                --text-secondary: #6c757d;
                --border-color: #dee2e6;
                --shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
                --shadow-hover: 0 4px 16px rgba(0, 0, 0, 0.15);
                --accent: #0d6efd;
                --risk-none: #6c757d;
                --risk-low: #28a745;
                --risk-medium: #ffc107;
                --risk-high: #fd7e14;
                --risk-critical: #dc3545;
            }

            :root[data-theme="dark"] {
                --bg-primary: #1a1a1a;
                --bg-secondary: #2d2d2d;
                --bg-card: #2d2d2d;
                --text-primary: #e9ecef;
                --text-secondary: #adb5bd;
                --border-color: #495057;
                --shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
                --shadow-hover: 0 4px 16px rgba(0, 0, 0, 0.4);
                --accent: #4dabf7;
            }

            *,
            *::before,
            *::after {
                box-sizing: border-box;
                margin: 0;
                padding: 0;
            }

            body {
                font-family:
                    -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
                    "Helvetica Neue", Arial, sans-serif;
                background-color: var(--bg-primary);
                color: var(--text-primary);
                line-height: 1.6;
                transition:
                    background-color 0.3s,
                    color 0.3s;
                padding: 20px;
                min-height: 100vh;
            }

            .container {
                max-width: 1200px;
                margin: 0 auto;
            }

            .header {
                text-align: center;
                margin-bottom: 40px;
                position: relative;
            }

            h1 {
                font-size: 2.5rem;
                margin-bottom: 10px;
                color: var(--text-primary);
            }

            .subtitle {
                color: var(--text-secondary);
                font-size: 1.1rem;
            }

            .theme-toggle {
                position: absolute;
                top: 0;
                right: 0;
                background: var(--bg-card);
                border: 2px solid var(--border-color);
                border-radius: 50%;
                width: 50px;
                height: 50px;
                cursor: pointer;
                display: flex;
                align-items: center;
                justify-content: center;
                transition: all 0.3s;
                box-shadow: var(--shadow);
            }

            .theme-toggle:hover {
                transform: scale(1.1);
                box-shadow: var(--shadow-hover);
            }

            .theme-toggle svg {
                width: 24px;
                height: 24px;
                fill: none;
                stroke: var(--text-primary);
                stroke-width: 2;
                stroke-linecap: round;
                stroke-linejoin: round;
            }

            .theme-toggle .moon-icon {
                display: none;
            }

            [data-theme="dark"] .theme-toggle .moon-icon {
                display: block;
            }

            [data-theme="dark"] .theme-toggle .sun-icon {
                display: none;
            }

            .main-grid {
                display: grid;
                grid-template-columns: 1fr 2fr;
                gap: 30px;
                margin-bottom: 30px;
            }

            .card {
                background: var(--bg-card);
                border-radius: 12px;
                padding: 30px;
                box-shadow: var(--shadow);
                transition: all 0.3s;
            }

            .card-title {
                font-size: 1.5rem;
                margin-bottom: 20px;
                color: var(--text-primary);
                font-weight: 600;
            }

            .summary-panel {
                display: flex;
                flex-direction: column;
                gap: 20px;
            }

            .risk-display {
                text-align: center;
                padding: 30px;
                border-radius: 12px;
                background: var(--bg-secondary);
            }

            .risk-label {
                font-size: 1.5rem;
                font-weight: 700;
                text-transform: uppercase;
                letter-spacing: 2px;
                color: var(--text);
                margin-bottom: 15px;
            }

            .risk-value {
                font-size: 4rem;
                font-weight: bold;
                margin: 10px 0;
            }

            .risk-severity {
                font-size: 1.5rem;
                font-weight: 600;
                text-transform: uppercase;
                letter-spacing: 2px;
                margin-top: 10px;
            }

            .risk-formula {
                font-size: 1rem;
                color: var(--text-secondary);
                margin-top: 15px;
                font-family: "Courier New", monospace;
            }

            .factor-grid {
                display: grid;
                grid-template-columns: 1fr 1fr;
                gap: 20px;
                margin-top: 20px;
            }

            .factor-item {
                display: flex;
                justify-content: space-between;
                align-items: center;
                padding: 15px;
                background: var(--bg-secondary);
                border-radius: 8px;
            }

            .factor-label {
                font-weight: 500;
                color: var(--text-secondary);
                font-size: 0.9rem;
            }

            .factor-value {
                font-size: 1.8rem;
                font-weight: bold;
                color: var(--text-primary);
            }

            .input-group {
                margin-bottom: 25px;
            }

            .input-group label {
                display: block;
                margin-bottom: 10px;
                font-weight: 600;
                color: var(--text-primary);
                font-size: 1.1rem;
            }

            .input-description {
                font-size: 0.9rem;
                color: var(--text-secondary);
                margin-bottom: 10px;
                line-height: 1.5;
            }

            .inputs-grid {
                display: grid;
                grid-template-columns: 1fr 1fr;
                gap: 20px;
            }

            select {
                width: 100%;
                padding: 12px 16px;
                font-size: 1rem;
                border: 2px solid var(--border-color);
                border-radius: 8px;
                background-color: var(--bg-card);
                color: var(--text-primary);
                cursor: pointer;
                transition: all 0.3s;
                appearance: none;
                background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23666' d='M6 9L1 4h10z'/%3E%3C/svg%3E");
                background-repeat: no-repeat;
                background-position: right 12px center;
                padding-right: 40px;
            }

            select:focus {
                outline: none;
                border-color: var(--accent);
                box-shadow: 0 0 0 3px rgba(13, 110, 253, 0.1);
            }

            select:hover {
                border-color: var(--accent);
            }

            .opt-1 {
                color: var(--risk-low);
                font-weight: 600;
            }
            .opt-2 {
                color: var(--risk-low);
                font-weight: 600;
            }
            .opt-3 {
                color: var(--risk-low);
                font-weight: 600;
            }
            .opt-4 {
                color: #90be6d;
                font-weight: 600;
            }
            .opt-5 {
                color: var(--risk-medium);
                font-weight: 600;
            }
            .opt-6 {
                color: var(--risk-medium);
                font-weight: 600;
            }
            .opt-7 {
                color: var(--risk-high);
                font-weight: 600;
            }
            .opt-8 {
                color: var(--risk-high);
                font-weight: 600;
            }
            .opt-9 {
                color: var(--risk-critical);
                font-weight: 600;
            }
            .opt-10 {
                color: var(--risk-critical);
                font-weight: 600;
            }

            .risk-none {
                color: var(--risk-none);
            }
            .risk-low {
                color: var(--risk-low);
            }
            .risk-medium {
                color: var(--risk-medium);
            }
            .risk-high {
                color: var(--risk-high);
            }
            .risk-critical {
                color: var(--risk-critical);
            }

            .actions {
                display: flex;
                gap: 15px;
                margin-top: 30px;
                flex-wrap: wrap;
            }

            .btn {
                padding: 12px 24px;
                font-size: 1rem;
                font-weight: 600;
                border: none;
                border-radius: 8px;
                cursor: pointer;
                transition: all 0.3s;
                display: inline-flex;
                align-items: center;
                gap: 8px;
            }

            .btn svg {
                width: 18px;
                height: 18px;
                flex-shrink: 0;
            }

            .btn-primary {
                background-color: var(--accent);
                color: white;
            }

            .btn-primary:hover {
                transform: translateY(-2px);
                box-shadow: var(--shadow-hover);
            }

            .btn-secondary {
                background: transparent;
                color: var(--text-secondary);
                border: 1px solid var(--border);
            }

            .btn-secondary:hover {
                background: var(--hover);
                border-color: var(--text-secondary);
            }

            .btn-secondary:active {
                transform: scale(0.98);
            }

            .reset-section {
                margin-top: 25px;
                display: flex;
                justify-content: center;
            }

            .reset-section .btn {
                width: auto;
                min-width: 200px;
            }



            .share-section {
                margin-top: 20px;
                padding: 20px;
                background: var(--bg-secondary);
                border-radius: 8px;
            }

            .share-label {
                font-weight: 600;
                margin-bottom: 10px;
                color: var(--text-primary);
            }

            .share-link {
                display: flex;
                gap: 10px;
                align-items: center;
            }

            .share-input {
                flex: 1;
                padding: 10px;
                border: 2px solid var(--border-color);
                border-radius: 6px;
                background: var(--bg-card);
                color: var(--text-primary);
                font-family: "Courier New", monospace;
                font-size: 0.9rem;
            }

            .info-section {
                margin-top: 30px;
            }

            .info-card {
                background: var(--bg-secondary);
                padding: 20px;
                border-radius: 8px;
                margin-bottom: 15px;
            }

            .info-title {
                font-weight: 600;
                font-size: 1.1rem;
                margin-bottom: 10px;
                color: var(--text-primary);
            }

            .info-content {
                color: var(--text-secondary);
                line-height: 1.6;
            }

            .info-content ul {
                margin-left: 20px;
                margin-top: 10px;
            }

            .info-content li {
                margin-bottom: 5px;
            }

            .risk-matrix {
                margin-top: 20px;
                overflow-x: auto;
            }

            .matrix-table {
                width: 100%;
                border-collapse: collapse;
                font-size: 0.9rem;
            }

            .matrix-table th,
            .matrix-table td {
                padding: 12px;
                text-align: center;
                border: 1px solid var(--border-color);
            }

            .matrix-table th {
                background: var(--bg-secondary);
                font-weight: 600;
            }

            .matrix-cell {
                font-weight: 600;
                border-radius: 4px;
            }

            .footer {
                text-align: center;
                margin-top: 50px;
                padding: 20px;
                color: var(--text-secondary);
                font-size: 0.9rem;
            }

            .footer a {
                color: var(--accent);
                text-decoration: none;
            }

            .footer a:hover {
                text-decoration: underline;
            }

            @media (max-width: 992px) {
                .main-grid {
                    grid-template-columns: 1fr;
                }

                h1 {
                    font-size: 2rem;
                }

                .header-actions {
                    .theme-toggle {
                        position: static;
                        margin: 20px auto;
                    }
                }

                @media (max-width: 768px) {
                body {
                    padding: 10px;
                }

                h1 {
                    font-size: 1.75rem;
                }

                .card {
                    padding: 20px;
                }

                .risk-value {
                    font-size: 3rem;
                }

                .factor-grid {
                    grid-template-columns: 1fr;
                }

                .inputs-grid {
                    grid-template-columns: 1fr;
                }
            }
        </style>
    </head>
    <body>
        <div class="container">
            <header class="header">
                <h1>Security Risk Calculator</h1>
                <p class="subtitle">
                    Calculate risk using Impact × Likelihood methodology
                </p>
                <button
                    class="theme-toggle"
                    id="themeToggle"
                    aria-label="Toggle theme"
                >
                    <svg
                        class="sun-icon"
                        xmlns="http://www.w3.org/2000/svg"
                        viewBox="0 0 24 24"
                    >
                        <circle cx="12" cy="12" r="5" />
                        <line x1="12" y1="1" x2="12" y2="3" />
                        <line x1="12" y1="21" x2="12" y2="23" />
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64" />
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78" />
                        <line x1="1" y1="12" x2="3" y2="12" />
                        <line x1="21" y1="12" x2="23" y2="12" />
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36" />
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22" />
                    </svg>
                    <svg
                        class="moon-icon"
                        xmlns="http://www.w3.org/2000/svg"
                        viewBox="0 0 24 24"
                        fill="var(--text-primary)"
                    >
                        <path
                            d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"
                        />
                    </svg>
                </button>
            </header>

            <div class="main-grid">
                <!-- Summary Panel -->
                <div class="summary-panel">
                    <div class="card">
                        <div class="risk-display">
                            <div class="risk-label">Risk Score</div>
                            <div class="risk-value" id="riskValue">0</div>
                            <div class="risk-severity" id="riskSeverity">
                                NOT ASSESSED
                            </div>
                            <div class="risk-formula" id="riskFormula">
                                Impact × Likelihood = 0 × 0
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <h3 class="card-title">Share Assessment</h3>
                        <div class="share-section">
                            <div class="share-label">Shareable Link:</div>
                            <div class="share-link">
                                <input
                                    type="text"
                                    class="share-input"
                                    id="shareLink"
                                    readonly
                                />
                                <button
                                    class="btn btn-primary"
                                    id="copyBtn"
                                    title="Copy shareable link to clipboard"
                                    aria-label="Copy shareable link to clipboard"
                                >
                                    <svg
                                        xmlns="http://www.w3.org/2000/svg"
                                        fill="none"
                                        viewBox="0 0 24 24"
                                        stroke="currentColor"
                                        style="width: 16px; height: 16px"
                                        id="copyIcon"
                                    >
                                        <path
                                            stroke-linecap="round"
                                            stroke-linejoin="round"
                                            stroke-width="2"
                                            d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"
                                        />
                                    </svg>
                                    <span id="copyBtnText">Copy</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Calculator Panel -->
                <div class="calculator-panel">
                    <div class="card">
                        <h2 class="card-title">Risk Assessment</h2>

                        <div class="inputs-grid">
                            <div class="input-group">
                                <label for="impactSelect">Impact</label>
                                <p class="input-description">
                                    The potential damage or consequence if the
                                    security issue is exploited. Consider data
                                    loss, system downtime, financial cost,
                                    reputation damage, and regulatory impact.
                                </p>
                                <select id="impactSelect">
                                    <option value="0">
                                        Select Impact Level...
                                    </option>
                                    <option value="1" class="opt-1">
                                        1 - Minimal (Negligible impact)
                                    </option>
                                    <option value="2" class="opt-2">
                                        2 - Minor (Limited impact)
                                    </option>
                                    <option value="3" class="opt-3">
                                        3 - Low (Some impact on operations)
                                    </option>
                                    <option value="4" class="opt-4">
                                        4 - Low-Medium (Noticeable disruption)
                                    </option>
                                    <option value="5" class="opt-5">
                                        5 - Medium (Moderate business impact)
                                    </option>
                                    <option value="6" class="opt-6">
                                        6 - Medium-High (Significant impact)
                                    </option>
                                    <option value="7" class="opt-7">
                                        7 - High (Severe business disruption)
                                    </option>
                                    <option value="8" class="opt-8">
                                        8 - Very High (Major damage)
                                    </option>
                                    <option value="9" class="opt-9">
                                        9 - Critical (Catastrophic consequences)
                                    </option>
                                    <option value="10" class="opt-10">
                                        10 - Maximum (Existential threat)
                                    </option>
                                </select>
                            </div>

                            <div class="input-group">
                                <label for="likelihoodSelect">Likelihood</label>
                                <p class="input-description">
                                    The probability that the security issue will
                                    be exploited or occur. Consider threat actor
                                    capability, motivation, ease of
                                    exploitation, and existing controls.
                                </p>
                                <select id="likelihoodSelect">
                                    <option value="0">
                                        Select Likelihood Level...
                                    </option>
                                    <option value="1" class="opt-1">
                                        1 - Rare (Highly unlikely)
                                    </option>
                                    <option value="2" class="opt-2">
                                        2 - Very Unlikely (Minimal chance)
                                    </option>
                                    <option value="3" class="opt-3">
                                        3 - Unlikely (Low probability)
                                    </option>
                                    <option value="4" class="opt-4">
                                        4 - Possible (Could happen)
                                    </option>
                                    <option value="5" class="opt-5">
                                        5 - Moderate (Reasonable chance)
                                    </option>
                                    <option value="6" class="opt-6">
                                        6 - Likely (Probable occurrence)
                                    </option>
                                    <option value="7" class="opt-7">
                                        7 - Very Likely (High probability)
                                    </option>
                                    <option value="8" class="opt-8">
                                        8 - Highly Probable (Almost certain)
                                    </option>
                                    <option value="9" class="opt-9">
                                        9 - Nearly Certain (Expected to occur)
                                    </option>
                                    <option value="10" class="opt-10">
                                        10 - Certain (Will definitely occur)
                                    </option>
                                </select>
                            </div>
                        </div>

                        <div class="reset-section">
                            <button
                                class="btn btn-secondary btn-reset"
                                id="resetBtn"
                                title="Reset calculator to default values"
                                aria-label="Reset calculator"
                            >
                                <svg
                                    xmlns="http://www.w3.org/2000/svg"
                                    fill="none"
                                    viewBox="0 0 24 24"
                                    stroke="currentColor"
                                >
                                    <path
                                        stroke-linecap="round"
                                        stroke-linejoin="round"
                                        stroke-width="2"
                                        d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"
                                    />
                                </svg>
                                Reset Calculator
                            </button>
                        </div>

                        <div class="info-section">
                            <div class="info-card">
                                <div class="info-title">Risk Matrix</div>
                                <div class="info-content">
                                    <p>
                                        Risk scores are calculated as
                                        <strong>Impact × Likelihood</strong> and
                                        categorized as follows:
                                    </p>
                                    <div class="risk-matrix">
                                        <table class="matrix-table">
                                            <thead>
                                                <tr>
                                                    <th>Score Range</th>
                                                    <th>Risk Level</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td>0</td>
                                                    <td
                                                        class="matrix-cell risk-none"
                                                    >
                                                        NOT ASSESSED
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>1-15</td>
                                                    <td
                                                        class="matrix-cell risk-low"
                                                    >
                                                        LOW
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>16-39</td>
                                                    <td
                                                        class="matrix-cell risk-medium"
                                                    >
                                                        MEDIUM
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>40-74</td>
                                                    <td
                                                        class="matrix-cell risk-high"
                                                    >
                                                        HIGH
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>75-100</td>
                                                    <td
                                                        class="matrix-cell risk-critical"
                                                    >
                                                        CRITICAL
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <footer class="footer">
                <p>
                    Simple Security Risk Calculator | Inspired by
                    <a
                        href="https://owasp.org/www-community/OWASP_Risk_Rating_Methodology"
                        target="_blank"
                        >OWASP Risk Rating Methodology</a
                    >
                </p>
            </footer>
        </div>

        <script>
            // Theme Management
            function initTheme() {
                const toggleBtn = document.getElementById("themeToggle");
                let savedTheme = localStorage.getItem("theme");

                if (!savedTheme) {
                    savedTheme = window.matchMedia(
                        "(prefers-color-scheme: dark)",
                    ).matches
                        ? "dark"
                        : "light";
                }

                document.documentElement.setAttribute("data-theme", savedTheme);

                toggleBtn.addEventListener("click", () => {
                    const currentTheme =
                        document.documentElement.getAttribute("data-theme");
                    const newTheme = currentTheme === "dark" ? "light" : "dark";
                    document.documentElement.setAttribute(
                        "data-theme",
                        newTheme,
                    );
                    localStorage.setItem("theme", newTheme);
                });
            }

            // Risk Calculation
            function calculateRisk() {
                const impact =
                    parseInt(document.getElementById("impactSelect").value) ||
                    0;
                const likelihood =
                    parseInt(
                        document.getElementById("likelihoodSelect").value,
                    ) || 0;
                const riskScore = impact * likelihood;

                // Update displays
                document.getElementById("riskValue").textContent = riskScore;
                document.getElementById("riskFormula").textContent =
                    `Impact × Likelihood = ${impact} × ${likelihood}`;

                // Determine risk severity
                let severity = "NOT ASSESSED";
                let severityClass = "risk-none";

                if (riskScore > 0 && riskScore <= 15) {
                    severity = "LOW";
                    severityClass = "risk-low";
                } else if (riskScore >= 16 && riskScore <= 39) {
                    severity = "MEDIUM";
                    severityClass = "risk-medium";
                } else if (riskScore >= 40 && riskScore <= 74) {
                    severity = "HIGH";
                    severityClass = "risk-high";
                } else if (riskScore >= 75) {
                    severity = "CRITICAL";
                    severityClass = "risk-critical";
                }

                // Update risk severity display
                const severityEl = document.getElementById("riskSeverity");
                severityEl.textContent = severity;
                severityEl.className = "risk-severity " + severityClass;

                // Update risk value color
                const riskValueEl = document.getElementById("riskValue");
                riskValueEl.className = "risk-value " + severityClass;

                // Update URL
                updateURL();
                updateShareLink();
            }

            // URL Management
            function updateURL() {
                const impact = document.getElementById("impactSelect").value;
                const likelihood =
                    document.getElementById("likelihoodSelect").value;

                if (impact === "0" && likelihood === "0") {
                    history.replaceState(null, "", window.location.pathname);
                } else {
                    const params = new URLSearchParams();
                    if (impact !== "0") params.set("i", impact);
                    if (likelihood !== "0") params.set("l", likelihood);
                    history.replaceState(null, "", "?" + params.toString());
                }
            }

            function loadFromURL() {
                const params = new URLSearchParams(window.location.search);
                const impact = params.get("i");
                const likelihood = params.get("l");

                if (impact) {
                    document.getElementById("impactSelect").value = impact;
                }
                if (likelihood) {
                    document.getElementById("likelihoodSelect").value =
                        likelihood;
                }

                if (impact || likelihood) {
                    calculateRisk();
                }
            }

            function updateShareLink() {
                const shareInput = document.getElementById("shareLink");
                shareInput.value = window.location.href;
            }

            // Copy to Clipboard
            function copyToClipboard() {
                const shareInput = document.getElementById("shareLink");
                shareInput.select();
                shareInput.setSelectionRange(0, 99999); // For mobile devices

                try {
                    navigator.clipboard
                        .writeText(shareInput.value)
                        .then(() => {
                            const copyBtn = document.getElementById("copyBtn");
                            const copyBtnText =
                                document.getElementById("copyBtnText");
                            const copyIcon =
                                document.getElementById("copyIcon");
                            const originalText = copyBtnText.textContent;

                            // Change to checkmark icon
                            copyIcon.innerHTML =
                                '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />';
                            copyBtnText.textContent = "Copied!";
                            copyBtn.style.backgroundColor = "var(--risk-low)";

                            setTimeout(() => {
                                // Restore copy icon
                                copyIcon.innerHTML =
                                    '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" />';
                                copyBtnText.textContent = originalText;
                                copyBtn.style.backgroundColor = "";
                            }, 2000);
                        })
                        .catch(() => {
                            // Fallback for older browsers
                            document.execCommand("copy");
                            alert("Link copied to clipboard!");
                        });
                } catch (err) {
                    alert("Failed to copy. Please copy manually.");
                }
            }

            // Reset Function
            function resetCalculator() {
                document.getElementById("impactSelect").value = "0";
                document.getElementById("likelihoodSelect").value = "0";
                calculateRisk();

                // Clear URL parameters
                const url = new URL(window.location.href);
                url.searchParams.delete("impact");
                url.searchParams.delete("likelihood");
                window.history.replaceState({}, "", url.pathname);
                updateShareLink();
            }

            // Event Listeners
            document
                .getElementById("impactSelect")
                .addEventListener("change", calculateRisk);
            document
                .getElementById("likelihoodSelect")
                .addEventListener("change", calculateRisk);
            document
                .getElementById("resetBtn")
                .addEventListener("click", resetCalculator);
            document
                .getElementById("copyBtn")
                .addEventListener("click", copyToClipboard);

            // Keyboard shortcuts
            document.addEventListener("keydown", function (e) {
                // Ctrl/Cmd + K to focus on impact select
                if ((e.ctrlKey || e.metaKey) && e.key === "k") {
                    e.preventDefault();
                    document.getElementById("impactSelect").focus();
                }

                // Ctrl/Cmd + L to focus on likelihood select
                if ((e.ctrlKey || e.metaKey) && e.key === "l") {
                    e.preventDefault();
                    document.getElementById("likelihoodSelect").focus();
                }
            });

            // Initialize
            initTheme();
            loadFromURL();
            updateShareLink();
        </script>
    </body>
</html>
